language: scala
scala: 2.11.12
jdk: openjdk8
jobs:
  include:
  - if: tag IS present
  exclude:
  - if: tag IS blank
before_install:
  - docker login -u $BINTRAY_SNOWPLOW_GENERIC_USER -p BINTRAY_SNOWPLOW_GENERIC_API_KEY snowplow-docker-registry.bintray.io
  - git clone https://github.com/snowplow/snowplow.git && cd snowplow/2-collectors/scala-stream-collector/ && sbt publishLocal && cd ../../..
deploy:
  on:
    tags: true
  skip_cleanup: true
  provider: script
  script: bash ./.travis/deploy.sh